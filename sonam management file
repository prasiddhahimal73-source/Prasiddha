import tkinter as tk
from tkinter import messagebox, ttk

# List to store all items
items = []

# Function to add item
def add_item():
    item_type = combo_type.get()
    item_name = entry_name.get()
    item_price = entry_price.get()

    if not item_type or not item_name or not item_price:
        messagebox.showwarning("Input Error", "Please fill all fields!")
        return

    try:
        price = float(item_price)
    except ValueError:
        messagebox.showerror("Input Error", "Price must be a number!")
        return

    # Add item to list
    item = {"Type": item_type, "Name": item_name, "Price": price}
    items.append(item)
    messagebox.showinfo("Success", f"{item_type} '{item_name}' added successfully!")

    # Clear input fields
    combo_type.set("")
    entry_name.delete(0, tk.END)
    entry_price.delete(0, tk.END)
    view_items()

# Function to show all items
def view_items():
    listbox.delete(0, tk.END)
    if not items:
        listbox.insert(tk.END, "No items added yet.")
    else:
        for i, item in enumerate(items, start=1):
            listbox.insert(tk.END, f"{i}. {item['Type']} - {item['Name']} - ${item['Price']:.2f}")

# Function to calculate total sales
def calculate_total():
    if not items:
        messagebox.showinfo("Total", "No items to calculate.")
        return

    total = sum(item["Price"] for item in items)
    messagebox.showinfo("Total Sales", f"Total of all Food & Services: ${total:.2f}")

# Function to apply youth discount
def apply_discount():
    if not items:
        messagebox.showinfo("Discount", "No items to calculate discount on.")
        return

    total = sum(item["Price"] for item in items)
    discount_rate = 0.10  # 10% youth discount
    discounted_total = total - (total * discount_rate)

    messagebox.showinfo("Youth Discount Applied",
                        f"Original Total: ${total:.2f}\n"
                        f"Discount (10%): -${total * discount_rate:.2f}\n"
                        f"Final Total: ${discounted_total:.2f}")

# Main window setup
root = tk.Tk()
root.title("Spicy Bites - Food & Services Manager")
root.geometry("470x520")
root.config(bg="#fff8e1")

# Title
tk.Label(root, text="üç¥ Spicy Bites Management System", font=("Arial", 15, "bold"), bg="#fff8e1", fg="#e65100").pack(pady=10)

# Product type dropdown
tk.Label(root, text="Select Type:", bg="#fff8e1").pack()
combo_type = ttk.Combobox(root, values=["Food Item", "Service"], width=27)
combo_type.pack(pady=5)

# Product name entry
tk.Label(root, text="Item Name:", bg="#fff8e1").pack()
entry_name = tk.Entry(root, width=30)
entry_name.pack(pady=5)

# Price entry
tk.Label(root, text="Item Price ($):", bg="#fff8e1").pack()
entry_price = tk.Entry(root, width=30)
entry_price.pack(pady=5)

# Buttons
tk.Button(root, text="Add Item", command=add_item, bg="#ff9800", fg="white", width=15).pack(pady=10)
tk.Button(root, text="View All Items", command=view_items, bg="#4caf50", fg="white", width=15).pack(pady=5)
tk.Button(root, text="Calculate Total", command=calculate_total, bg="#2196f3", fg="white", width=15).pack(pady=5)
tk.Button(root, text="Apply Youth Discount (10%)", command=apply_discount, bg="#9c27b0", fg="white", width=22).pack(pady=5)

# Listbox to display products
listbox = tk.Listbox(root, width=55, height=10)
listbox.pack(pady=10)

# Run the GUI
root.mainloop()
